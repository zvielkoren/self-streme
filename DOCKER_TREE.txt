self-streme/
â”‚
â”œâ”€â”€ ğŸ³ DOCKER FILES (Root)
â”‚   â”œâ”€â”€ Dockerfile                    # Container build instructions
â”‚   â”œâ”€â”€ docker-compose.yml            # Production orchestration
â”‚   â”œâ”€â”€ docker-compose.dev.yml        # Development with hot-reload
â”‚   â”œâ”€â”€ .dockerignore                 # Build optimization
â”‚   â”œâ”€â”€ .env.docker.example           # Configuration template
â”‚   â”œâ”€â”€ DOCKER.md                     # Quick start pointer
â”‚   â”œâ”€â”€ DOCKER_STRUCTURE.txt          # Structure overview
â”‚   â””â”€â”€ DOCKER_TREE.txt               # This visual tree
â”‚
â”œâ”€â”€ ğŸ’» SOURCE CODE (src/)
â”‚   â””â”€â”€ index.js                      # Main app + tunnel integration â­
â”‚                                     # Single entry point for everything
â”‚
â”œâ”€â”€ ğŸ“š DOCUMENTATION (docs/docker/)
â”‚   â”œâ”€â”€ GETTING_STARTED.md            # 3-minute quick start â­ START HERE
â”‚   â”œâ”€â”€ INDEX.md                      # Navigation hub
â”‚   â”œâ”€â”€ README.md                     # Complete overview
â”‚   â”œâ”€â”€ SETUP.md                      # Detailed guide + troubleshooting
â”‚   â”œâ”€â”€ DEPLOYMENT.md                 # Multiple scenarios
â”‚   â”œâ”€â”€ QUICK_REFERENCE.md            # Command cheat sheet
â”‚   â”œâ”€â”€ EXAMPLES.md                   # 12 real-world examples
â”‚   â””â”€â”€ REFERENCE.txt                 # Plain text reference
â”‚
â”œâ”€â”€ ğŸ”§ SCRIPTS (scripts/)
â”‚   â””â”€â”€ test-tunnel.sh                # Automated validation suite â­
â”‚
â””â”€â”€ âš™ï¸ CONFIGURATION
    â”œâ”€â”€ .env                          # Your config (create this!)
    â”œâ”€â”€ .env.docker.example           # Template with all options
    â””â”€â”€ example.env                   # App-specific settings


SIMPLIFIED ARCHITECTURE
=======================

Before (2 files):
  start.js â†’ spawns â†’ node src/index.js
                   â†“
             cloudflared (if token)

After (1 file):
  node src/index.js â†’ spawns â†’ cloudflared (if token)
                    â†’ runs â†’ Express server

Benefits:
  âœ“ Simpler - one entry point
  âœ“ Easier debugging
  âœ“ Less complexity
  âœ“ Same functionality


QUICK REFERENCE
===============

Start:      docker-compose up -d
Stop:       docker-compose down
Logs:       docker-compose logs -f
Test:       ./scripts/test-tunnel.sh

Read:       docs/docker/GETTING_STARTED.md


HOW IT WORKS
============

1. Container starts: node src/index.js
2. Checks for TUNNEL_TOKEN env var
3. If found â†’ spawns cloudflared process
4. Starts Express server
5. Both run together until shutdown
6. SIGTERM kills tunnel then app


LOG OUTPUT
==========

With Tunnel:
  [TUNNEL] Starting Cloudflare Tunnel...
  [TUNNEL] Connection registered
  [TUNNEL] âœ“ Cloudflare Tunnel is ready
  ğŸš€ Server running on port 3000

Without Tunnel:
  â„¹ï¸  No TUNNEL_TOKEN provided, skipping Cloudflare Tunnel
  ğŸš€ Server running on port 3000


ENTRY POINTS
============

New User:
  DOCKER.md â†’ docs/docker/GETTING_STARTED.md â†’ Deploy!

Need Help:
  docs/docker/INDEX.md â†’ Find what you need

Reference:
  docs/docker/QUICK_REFERENCE.md â†’ Common commands

Examples:
  docs/docker/EXAMPLES.md â†’ Real scenarios

Complete Guide:
  docs/docker/SETUP.md â†’ Everything
