# ================================
# Docker Deployment Configuration
# ================================
# Copy this file to .env and configure your settings
# cp .env.docker.example .env

# ================================
# Server Configuration
# ================================
NODE_ENV=production
# Port to run the server on (default: 7000)
# Note: When using network_mode: host in docker-compose.yml,
# the app binds directly to this port on the host
PORT=7000

# ================================
# Cloudflare Tunnel (Optional)
# ================================
# If you want to expose your app through Cloudflare Tunnel:
# 1. Go to https://one.dash.cloudflare.com/
# 2. Navigate to Networks → Tunnels → Create a tunnel
# 3. Copy the token from the installation command
# 4. Paste it below (uncomment the line)
# 5. Configure the public hostname in Cloudflare dashboard
#
# If TUNNEL_TOKEN is set → cloudflared starts automatically
# If not set → app runs normally without tunnel
#
# TUNNEL_TOKEN=eyJhIjoiXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX...

# ================================
# Base URL Configuration
# ================================
# Set this to your public URL
# For Cloudflare Tunnel: https://your-subdomain.your-domain.com
# For local/VPS: http://your-server-ip:7000
# For localhost: http://localhost:7000 or http://127.0.0.1:7000
# For LAN access: http://YOUR_LOCAL_IP:7000 (e.g., http://192.168.1.100:7000)
# Leave unset for automatic detection (recommended)
#
# BASE_URL=https://stream.yourdomain.com

# ================================
# Cache Configuration
# ================================
# Backend options: memory, sqlite, redis
CACHE_BACKEND=memory

# Cache time-to-live in seconds (default: 3600 = 1 hour)
CACHE_TTL=3600

# Maximum number of cached items
CACHE_MAX_SIZE=1000

# Maximum disk usage in MB (default: 5000 = 5GB)
CACHE_MAX_DISK_MB=5000

# Cleanup interval in seconds (default: 300 = 5 minutes)
CACHE_CLEANUP_INTERVAL=300

# Enable persistent cache storage (survives container restart)
CACHE_PERSISTENT=false

# ================================
# Jackett Integration (Optional)
# ================================
# If running Jackett in Docker, use container name:
# JACKETT_URL=http://jackett:9117
#
# If Jackett is on host machine, use:
# JACKETT_URL=http://host.docker.internal:9117
#
# JACKETT_URL=http://localhost:9117
# JACKETT_API_KEY=your_jackett_api_key_here

# ================================
# Media Configuration (Optional)
# ================================
# Path to your media files (if using local media)
# Mount this as a volume in docker-compose.yml
# MEDIA_PATH=/media

# ================================
# External APIs (Optional)
# ================================
# OMDB API key for metadata enrichment
# Get one at: http://www.omdbapi.com/apikey.aspx
# OMDB_API_KEY=your_omdb_api_key_here

# ================================
# Logging
# ================================
# Log levels: error, warn, info, debug
LOG_LEVEL=info

# ================================
# Torrent Configuration
# ================================
# Connection timeout in milliseconds
TORRENT_TIMEOUT=60000

# Maximum retry attempts for failed torrents
TORRENT_MAX_RETRIES=3

# ================================
# Advanced Settings
# ================================
# Only modify these if you know what you're doing

# Stremio addon port (if different from main port)
# ADDON_PORT=7001

# Custom temporary directory
# TEMP_DIR=/tmp/self-streme
